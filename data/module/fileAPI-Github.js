/* 
    fileAPI with Github fixer
*/

var $ = mdui.$;

try{rel;}catch(_0x9f55c0){var rel;}$('#page-more-menu-dialog\x20.change-servers')['remove']();fileAPI['rel']=rel||'master';fileAPI['type']='Github';fileAPI['changeDialog']=()=>{};fileAPI['change']=()=>{};fileAPI['getDir']=function(_0x1f235c){if(_0x1f235c=='/')_0x1f235c='';if(this['data']['temp']['getDir'][_0x1f235c]!=null){let _0x4160d2=this['data']['temp']['getDir'][_0x1f235c];let _0x4cc2fd=new Date()['getTime']();if(_0x4cc2fd-_0x4160d2['time']<=this['data']['temp']['timeout'])return _0x4160d2['data'];}try{let _0x11539b=new XMLHttpRequest();_0x11539b['open']('GET','https://api.github.com/repos/'+fileAPI['server']+'/contents'+_0x1f235c+'?rel='+fileAPI['rel'],![]);_0x11539b['send']();let _0x5dad06=JSON['parse'](_0x11539b['responseText']);let _0xca0539=[];let _0x19b3da=[];_0x5dad06['forEach'](_0x44a1e6=>{_0x44a1e6['icon']='';if(_0x44a1e6['type']=='dir')_0xca0539['push'](_0x44a1e6);if(_0x44a1e6['type']!='dir')_0x19b3da['push'](_0x44a1e6);});_0x5dad06=_0xca0539['concat'](_0x19b3da);this['data']['temp']['getDir'][_0x1f235c]={'time':new Date()['getTime'](),'data':_0x5dad06};setTimeout(()=>this['data']['temp']['getDir'][_0x1f235c]={},this['data']['temp']['timeout']);return _0x5dad06;}catch(_0x5d79cf){this['data']['temp']['getDir'][_0x1f235c]={'time':new Date()['getTime'](),'data':[]};setTimeout(()=>this['data']['temp']['getDir'][_0x1f235c]={},this['data']['temp']['timeout']);return[];}};fileAPI['getFile']=function(_0x1b47c2){if(this['data']['temp']['getFile'][_0x1b47c2]!=null){let _0x199bc0=this['data']['temp']['getFile'][_0x1b47c2];let _0x15b225=new Date()['getTime']();if(_0x15b225-_0x199bc0['time']<=this['data']['temp']['timeout'])return _0x199bc0['data'];}try{let _0x5ec635=new XMLHttpRequest();_0x5ec635['open']('GET','https://api.github.com/repos/'+fileAPI['server']+'/contents'+_0x1b47c2+'?rel='+fileAPI['rel'],![]);_0x5ec635['send']();let _0xe0a1f5=JSON['parse'](_0x5ec635['responseText'])['content'];_0xe0a1f5=fileAPI['b64_to_utf8'](_0xe0a1f5);this['data']['temp']['getFile'][_0x1b47c2]={'time':new Date()['getTime'](),'data':_0xe0a1f5};setTimeout(()=>this['data']['temp']['getFile'][_0x1b47c2]={},this['data']['temp']['timeout']);return _0xe0a1f5;}catch(_0x4c0907){this['data']['temp']['getFile'][_0x1b47c2]={'time':new Date()['getTime'](),'data':'No\x20such\x20file\x20or\x20directory'};setTimeout(()=>this['data']['temp']['getFile'][_0x1b47c2]={},this['data']['temp']['timeout']);return'No\x20such\x20file\x20or\x20directory';}};fileAPI['getUrl']=_0x59a467=>{let _0x4d1a5b=_0x59a467['substring'](_0x59a467['lastIndexOf']('.')+(0x732f0^0x732f1))['toLowerCase']();if(_0x4d1a5b=='html')return'https://'+fileAPI['server']['substring'](0xf06be^0xf06be,fileAPI['server']['lastIndexOf']('/'))+'.github.io/'+fileAPI['server']['substring'](fileAPI['server']['lastIndexOf']('/')+(0x8c675^0x8c674))+_0x59a467;return'https://raw.githubusercontent.com/'+fileAPI['server']+'/'+fileAPI['rel']+_0x59a467;};fileAPI['search']=_0x413ec7=>{return new Promise((_0x4aa39b,_0x348640)=>{_0x4aa39b([{'name':'you\x20cannot\x20search\x20with\x20Github\x20mode!\x20<div\x20class=\x22mdui-typo-caption-opacity\x22>search:\x20</div>','path':fileAPI['getMain'](),'parent':'I\x27m\x20sorry!','is_Dir':![],'index':0x1bf52}]);});};fileAPI['utf8_to_b64']=_0x1f4f75=>{return window['btoa'](unescape(encodeURIComponent(_0x1f4f75)));};fileAPI['b64_to_utf8']=_0x912340=>{return decodeURIComponent(escape(window['atob'](_0x912340)));};

debugTool.loaded();