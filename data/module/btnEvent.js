/* 
    drawHTML - button event
*/

var $ = mdui.$;

var btnEvent={'load':function(){$('.mdui-appbar\x20.mdui-typo-title')['on']('click',()=>{window['location']['replace'](window['location']['origin']+window['location']['pathname']);});$('#page-more-menu\x20.close-other-tabs')['on']('click',()=>{tabManager['closeOther']();});$('#page-more-menu\x20.go-to-path')['on']('click',()=>{btnEvent['goToPath']();});$('#page-more-menu\x20.ask-cdm2883')['on']('click',()=>{window['open']('https://qm.qq.com/cgi-bin/qm/qr?k=iV6WzCGGM4FyEz5uWD9LQEENDF0lklkt&jump_from=webapi&authKey=uuWOjEzqJXtRUd9qVaN0eBbm/d7pJ5hrC4wRWYek1eER60i5X1KctHwlFSriegIH');});$('#page-more-menu-dialog\x20.favorites')['on']('click',()=>{tabManager['append']('docs://favorites');});$('#page-more-menu-dialog\x20.change-servers')['on']('click',()=>{fileAPI['changeDialog']();});$('#page-more-menu-dialog\x20.debugger')['on']('click',()=>{tabManager['append']('docs://debugger');});$('#page-more-menu-dialog\x20.settings')['on']('click',()=>{tabManager['append']('docs://settings');});$('#search-input-1')['on']('keydown',_0x708020=>{if(_0x708020['keyCode']==(0x49fa3^0x49fae)){if($('#search-input-1')['val']()=='')return;if($('#search-screen')[0x9d217^0x9d217]['style']['display']==''||$('#search-screen')[0xdf203^0xdf203]['style']['display']=='none'){$('#search-screen\x20.input')['val']($('#search-input-1')['val']());$('#search-screen')[0x83dac^0x83dac]['style']['opacity']='1';$('#search-screen')[0xefb0d^0xefb0d]['style']['display']='block';$('#search-screen\x20.search')[0xbe708^0xbe708]['click']();$('#search-screen\x20.input')[0x84bda^0x84bda]['focus']();}}});$('#search-screen\x20.input')['on']('keydown',_0x1677ab=>{if(_0x1677ab['keyCode']==(0xcd940^0xcd94d)){if($('#search-screen\x20.input')['val']()==''){$('#search-screen\x20.close')[0x779c9^0x779c9]['click']();return;};$('#search-screen\x20.search')[0xb0e9e^0xb0e9e]['click']();}});$('#search-screen\x20.close')['on']('click',()=>{$('#search-screen')[0xd2293^0xd2293]['style']['opacity']='0';$('#search-screen')[0x0]['style']['animation']='search-screen-out\x200.5s';setTimeout(()=>{$('#search-screen')[0x0]['style']['display']='none';$('#search-screen')[0x0]['style']['animation']='';},0x4a68d^0x4a6e9);});$('#search-screen\x20.search')['on']('click',()=>{let _0x5aa0e8=Date['now']();$('#search-screen\x20.mdui-progress')[0xf135b^0xf135b]['style']['display']='block';$('#search-screen\x20.mdui-list')[0x0]['style']['display']='none';$('#search-screen\x20.mdui-list')['html']('');fileAPI['search']($('#search-screen\x20.input')['val']())['then'](_0x240a44=>{$('#search-screen\x20.mdui-progress')[0x0]['style']['display']='none';$('#search-screen\x20.mdui-list')[0x0]['style']['display']='block';if(_0x240a44['length']==0x0){$('#search-screen\x20.mdui-list')['html']('<li\x20class=\x22mdui-list-item\x20mdui-ripple\x22>Nothing.</li>');mdui['snackbar']({'message':'search\x20nothing','position':'left-bottom'});}else{mdui['snackbar']({'message':'result:\x20'+_0x240a44['length']+'\x20;\x20time:\x20'+(Date['now']()-_0x5aa0e8)+'ms','position':'left-bottom'});let _0xa0c055;_0x240a44['forEach'](_0x221933=>{let _0x12b236=document['createElement']('li');_0x12b236['classList']['add']('mdui-list-item');_0x12b236['classList']['add']('mdui-ripple');if(_0xa0c055!==_0x221933['parent']){$('#search-screen\x20.mdui-list')['append']('<li\x20class=\x22mdui-subheader\x22>'+_0x221933['parent']+'</li>');_0xa0c055=_0x221933['parent'];}$(_0x12b236)['html']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22mdui-list-item-icon\x20mdui-icon\x20material-icons\x22>'+(_0x221933['is_Dir']?'folder':fileAPI['fileIcon'](_0x221933['name']['substring'](_0x221933['name']['lastIndexOf']('.')+0x1)))+'</i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mdui-list-item-content\x22>'+(_0x221933['name']['substring'](0x0,_0x221933['index'])+'<mark>'+$('#search-screen\x20.input')['val']()+'</mark>'+_0x221933['name']['slice'](_0x221933['index']+$('#search-screen\x20.input')['val']()['length']))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');$('#search-screen\x20.mdui-list')['append'](_0x12b236);$(_0x12b236)['on']('click',()=>{console['log'](_0x221933['path']);$('#search-screen\x20.close')[0x0]['click']();if(_0x221933['is_Dir']){fileManager['toPath'](_0x221933['path']);fileManager['drawer']['open']();}else{tabManager['append'](_0x221933['path']);}});});}});});},'goToPath':function(){mdui['prompt']('path',_0x4e972c=>{let _0x3853e9=fileAPI['getDir'](_0x4e972c);if(_0x3853e9['length']!==0x0){fileManager['toPath'](_0x4e972c);fileManager['drawer']['open']();}else{tabManager['append'](_0x4e972c);}},_0x253679=>{},{'confirmText':'jump','cancelText':'cancel'});},'toNode':function(_0x225be9){let _0x441e38=_0x225be9;let _0x53d8e3=document['body'];let _0x3cc99c=0x0;do{_0x3cc99c+=_0x441e38['offsetTop'];_0x441e38=_0x441e38['offsetParent'];}while(_0x441e38!==_0x53d8e3);window['scrollTo']({'top':_0x3cc99c-$('.mdui-appbar')['height'](),'behavior':'smooth'});mdui['snackbar']({'message':'正在跳转ing...','position':'left-bottom'});},'toNodeByID':function(_0x205f50){var _0x4bbe43=$(tabManager['items'][tabManager['nowIndex']]['screen'])['find']('#'+_0x205f50)[0x0];btnEvent['toNode'](_0x4bbe43);}};

debugTool.loaded();